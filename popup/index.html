<!DOCTYPE html>

<head>
    <link rel="stylesheet" type="text/css" href="./index.css">
    <script src="https://kit.fontawesome.com/7b497df91f.js" crossorigin="anonymous"></script>
    <script src="https://js-agent.newrelic.com/nr-loader-spa-current.min.js"></script>
    <script src="./index.js"></script>
</head>
<body>
    <div id="loader"><i class="fas fa-spinner fa-spin"></i></div>
    <div id="container" class="flex-between hidden">
        <div id="configTab">
            <h3 class="section">New Relic Injector</h2>
            <div class="section">
                <div class="standard">
                    <label for="accountID">Account ID</label><input type="text" id="accountID" placeholder="Account ID" required>
                </div>
                <div class="standard">
                    <label for="agentID">Agent ID</label><input type="text" id="agentID" placeholder="Agent ID" required>
                </div>
                <div class="standard">
                    <label for="applicationID">Application ID</label><input type="text" id="applicationID" placeholder="Application ID" required>
                </div>
                <div class="standard">
                    <label for="accountID">License Key</label><input type="text" id="licenseKey" placeholder="License Key" required>
                </div>
                <div class="standard">
                    <label for="beacon">Beacon</label><input type="text" id="beacon" placeholder="Beacon URL" value="staging-bam-cell.nr-data.net" required>
                </div>
                <div class="standard">
                    <label for="errorBeacon">Error Beacon</label><input type="text" id="errorBeacon" placeholder="Error Beacon URL" value="staging-bam-cell.nr-data.net" required>
                </div>
                <div class="non-custom">
                    <label for="version" id="versionLabel">Agent Version</label><input type="text" id="version" placeholder="Agent Version Number">
                </div>
                <div class="custom" hidden>
                    <label for="customLoaderUrl" id="customLoaderUrlLabel" >Custom LOADER URL</label>
                    <input type="text" id="customLoaderUrl" placeholder="https://js-agent.newrelic.com/dev/nr-loader-spa.min.js" required>
                </div>
                <div class="copy-paste" hidden>
                    <label for="copyPaste" id="copyPasteLabel" >Copy/Paste Snippet</label>
                    <textarea id="copyPaste" placeholder="Copy/Paste Agent Snippet from NR1" required></textarea>
                </div>
                <div>
                    <label for="nrLoaderType">Agent Type</label><br />
                    <select id="nrLoaderType">
                        <option>Lite</option>
                        <option>Pro</option>
                        <option selected>SPA</option>
                        <option>Custom</option>
                        <option>Copy-Paste</option>
                    </select>
                </div>
            </div>
            <div class="section">
                <div class="flex-between"><button id="btn-inject">Inject NR Into This Tab</button></div>
                <div class="flex-between"><button class="toggle-btn" id="btn-disable-security">Disable Security: </button><span id="overrideSecurityPolicy"></span></div>
            </div>
            
            <div class="section" id="helper" hidden>
                <div id="helper-text"></div>
                <hr />
                <button id="reloadAll" hidden>Reload Running Tabs</button>
            </div>
        </div>
        <div id="runningTabs" hidden>
            <h3 class="section">Injected Tabs</h2>
            <div id="trackedTabs" class="section"></div>
            <hr />
            <div class="section" id="note">
                Open devtools and turn on verbose logging to see event data
            </div>
        </div>
    </div>
</body>